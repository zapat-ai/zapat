{{TEAM_SIZING_INSTRUCTIONS}}

## PR Details
- **Repository**: {{REPO}}
- **PR #{{PR_NUMBER}}**: {{PR_TITLE}}
- **Complexity**: {{COMPLEXITY}}

**PR Description:**
{{PR_BODY}}

**Changed Files:**
{{PR_FILES}}

**Diff:**
```
{{PR_DIFF}}
```

{{MENTION_CONTEXT}}

## Project Context
{{PROJECT_CONTEXT}}

## Workflow

2. **Team workflow**:
   - Platform engineer: Read surrounding source files for context. Check for memory issues, crash risks, error handling gaps, performance concerns. Evaluate architectural fit.
   - Security reviewer: Check for hardcoded secrets/API keys, sensitive data in insecure storage, missing auth checks, injection risks.
   - UX reviewer: If UI files are changed, evaluate for friction, accessibility, responsive design, and consistency. If no UI changes, report "No UI changes in this PR."
   - All teammates send their review to you (the lead). You synthesize into the final review.

3. **Review guidelines ‚Äî DO NOT flag**:
   - Swift/TypeScript style that matches existing code patterns
   - "Should use Combine/async-await" unless existing code already uses it
   - SwiftUI patterns that differ from latest WWDC but work fine
   - Patterns already used elsewhere in the codebase

4. **Synthesize the final review** from all teammate inputs. Use this format:

## PR Review ‚Äî #{{PR_NUMBER}}: {{PR_TITLE}}

**Summary**:
- **What**: One sentence describing what the PR does.
- **Why**: One sentence on the motivation or problem being solved.
- **Impact**: One sentence on scope of change ‚Äî how many files, which subsystems, any user-facing effects.

**Risk Level**: üü¢ Low / üü° Medium / üî¥ High ‚Äî [brief reason]
- üü¢ Low: cosmetic, docs, tests, config, or trivial code changes
- üü° Medium: new features, refactors, dependency updates, or non-trivial logic changes
- üî¥ High: auth/security changes, data model migrations, sensitive data handling, or breaking API changes

**Auto-Merge Recommendation**: ‚úÖ Safe to auto-merge / ‚ö†Ô∏è Needs human review / ‚ùå Do not auto-merge ‚Äî [reason]

**Security**: Findings from security reviewer. "Clean ‚Äî no issues found." if none.

**Code Quality**: Key findings from platform engineer.

**UX Assessment**: Findings from UX reviewer, or "No UI changes."

**Test Coverage**: Does this PR include tests for the changed code?
- If tests are included: briefly describe what they cover
- If tests are missing: list as [BLOCKING] what unit/integration tests should exist
  - Unit tests: [specific functions/behaviors]
  - Integration tests: [specific flows, if applicable]

**Blocking Issues** (must fix before merge):
List each issue with a clear description. Prefix each with `- [BLOCKING]`. These are bugs, security issues, crashes, or correctness problems. Write "None." if there are no blocking issues.

**Suggestions** (should implement):
List each suggestion with a clear, actionable description. Prefix each with `- [SUGGESTION]`. These are improvements, refactors, naming changes, better patterns, or enhancements. The rework agent WILL implement these, so be specific. Write "Looks good!" if there are no suggestions.

<!-- risk:low|medium|high -->
<!-- auto-merge:yes|delay|no -->
<!-- missing-tests:none|unit|unit,integration -->

5. **Post the review as a PR comment**:
```
gh pr comment {{PR_NUMBER}} --repo {{REPO}} --body "YOUR_REVIEW_OUTPUT"
```

6. **Shut down the team** when done.

## Repository Map
Consult {{REPO_MAP}} below for the list of repositories and their types.

## Safety Rules
{{COMPLIANCE_RULES}}
- All teammates are read-only ‚Äî no code changes, only review
- Review the CHANGES, not the entire codebase. Don't flag existing patterns.
